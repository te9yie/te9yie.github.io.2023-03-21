<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>te9yie</title>
        <link>https://te9yie.github.io</link>
        <description>te9yie.github.io</description>
        <lastBuildDate>Fri, 27 May 2022 22:46:28 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <item>
            <title><![CDATA[JavaScript での配列操作いろいろ]]></title>
            <link>https://te9yie.github.io/JavaScript%20%E3%81%A7%E3%81%AE%E9%85%8D%E5%88%97%E6%93%8D%E4%BD%9C%E3%81%84%E3%82%8D%E3%81%84%E3%82%8D</link>
            <guid>https://te9yie.github.io/JavaScript%20%E3%81%A7%E3%81%AE%E9%85%8D%E5%88%97%E6%93%8D%E4%BD%9C%E3%81%84%E3%82%8D%E3%81%84%E3%82%8D</guid>
            <pubDate>Fri, 27 May 2022 19:32:25 GMT</pubDate>
            <description><![CDATA[JavaScript での配列操作いろいろ]]></description>
            <content:encoded><![CDATA[<p>#<a href="/JavaScript">JavaScript</a></p>
<h2>unique</h2>
<pre><code>const ary = [2, 1, 3, 4, 3, 2, 5];

ary.filter((data, i, self) => self.indexOf(data) === i);
</code></pre>
<p><code>filter()</code> で最初に見つかったものだけにする感じ。</p>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[2022-05-26]]></title>
            <link>https://te9yie.github.io/2022-05-26</link>
            <guid>https://te9yie.github.io/2022-05-26</guid>
            <pubDate>Thu, 26 May 2022 22:31:50 GMT</pubDate>
            <description><![CDATA[2022-05-26]]></description>
            <content:encoded><![CDATA[<p><a href="/RSS">RSS</a> の出力を調整していた。</p>
<p>そういえば、最近は RSS って使われてなくなっているんだろうか。自分は RSS リーダーを毎日使うし、RSS のないサイトにがっかりしたりもする。RSS の代替手段ってなんなんだろう。</p>
<p>RSS リーダーは Feedly を使っている。</p>
<p><a href="https://feedly.com/">https://feedly.com/</a></p>
<p>いつの間にか有料化していて無料だと 100 件までしか登録できないらしい。でも自分は無料ユーザーなんだけど 100 件以上登録できるし追加もできている…なぜなんだろう。古参ユーザーの特典なんだろうか。Livedoor Reader を使っていてサービス終了するって聞いて移行したからもう何年前なんだろうか。</p>
<hr>
<p><a href="/p5.js">p5.js</a> でシェーダーが使えることが分かった。</p>
<p><a href="https://github.com/te9yie/te9yie.github.io/blob/main/libs/p5/shader00.js">https://github.com/te9yie/te9yie.github.io/blob/main/libs/p5/shader00.js</a></p>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[2022-05-25]]></title>
            <link>https://te9yie.github.io/2022-05-25</link>
            <guid>https://te9yie.github.io/2022-05-25</guid>
            <pubDate>Wed, 25 May 2022 19:08:55 GMT</pubDate>
            <description><![CDATA[2022-05-25]]></description>
            <content:encoded><![CDATA[<p>このサイトが更新される時間を朝の 4 時にしようと思って <a href="/GitHub Actions">GitHub Actions</a> には schedule trigger を設定しておいた。</p>
<pre><code>on:
  schedule:
    - cron: "0 19 * * *"
</code></pre>
<p>どうもその時間に動いたみたいなんだけど、<a href="/草画像">草画像</a>が今日更新された状態になっていない。多分、<a href="/JavaScript">JavaScript</a> で <code>new Date()</code> したときに JST でなく UTC で判定されている気がする。タイムゾーンを設定して実行するようにしてみた。これで上手く動くといいんだけど。</p>
<hr>
<p>タイトルを付けることが面倒な日々のメモは日付をタイトルにしている。このフォーマットで書かれたページだけ日誌みたいな感じで別管理にしようかなと思った。トップページで直近何日か分くらいが展開されて見えるようになっているとか、日誌ページに列挙されるとか。</p>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[2022-05-24]]></title>
            <link>https://te9yie.github.io/2022-05-24</link>
            <guid>https://te9yie.github.io/2022-05-24</guid>
            <pubDate>Wed, 25 May 2022 09:01:53 GMT</pubDate>
            <description><![CDATA[2022-05-24]]></description>
            <content:encoded><![CDATA[<p>更新履歴から<a href="/草画像">草画像</a>をつくるプログラムはできた。</p>
<p><a href="https://github.com/te9yie/te9yie.github.io/blob/main/gen-grass.js">https://github.com/te9yie/te9yie.github.io/blob/main/gen-grass.js</a></p>
<p>この画像は毎日更新されるようにしたい。<a href="/cron">cron</a> みたいなもので画像を更新できればいいんだけど、<a href="/GitHub Actions">GitHub Actions</a> で <code>gh-pages</code> ブランチの一ファイルを更新する方法がよく分からない。とりあえず全ビルド回す感じでいいか…</p>
<p>そうなるとリポジトリへの <code>push</code> をトリガーにしてビルド回す意味もあまりないかなという気がしてきた。一日一回更新されるで問題ない気がする。こういう GitHub Actions の動作テストってうまいやり方あるんだろうか。何かミスっていても一日一回しか確認できないのは辛い。</p>
<p><a href="/act">act</a> という GitHub Actions をローカルで実行できるものがあるらしい。</p>
<p><a href="https://github.com/nektos/act">https://github.com/nektos/act</a></p>
<p>でも <code>gh-pages</code> ブランチにファイルコピーとかテストも結構厳しい気がするなあ。</p>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[2022-05-23]]></title>
            <link>https://te9yie.github.io/2022-05-23</link>
            <guid>https://te9yie.github.io/2022-05-23</guid>
            <pubDate>Wed, 25 May 2022 09:01:53 GMT</pubDate>
            <description><![CDATA[2022-05-23]]></description>
            <content:encoded><![CDATA[<p>このサイトがいつ頃更新されたか、更新頻度はどんな感じか分かるといいなあと思った。そういえば <a href="/GitHub">GitHub</a> で草が生える仕組みがそれっぽい。サイトの更新情報から GitHub の<a href="/草画像">草画像</a>のようなものを生成する、そんなものを作ってみたい。</p>
<p>記事の履歴で取るか、<a href="/Git">Git</a> の履歴で取るか、記事の履歴で取るなら最新だけとるのか、色々仕様は考えられる。まずは一番簡単そうな Git の履歴で取ってみるか…</p>
<p>画像の生成は <a href="/Node.js">Node.js</a> でやりたい。リンク情報つくったりも Node.js でやっているし。Canvas に描いた画像を出力する、みたいなことができればよいと思う。そんなことできるのかは知らんけど。</p>
<p>Node.js で画像出力を調べているときに <a href="/Deno">Deno</a> というものを見つけた。</p>
<p><a href="https://deno.land/">https://deno.land/</a></p>
<p>Node.js の進化版みたいな感じっぽい。URL で import できるあたりがすてき。<code>package.json</code> とかが必要なくなって <code>deno run &#x3C;file></code> で実行できてちょっとしたことならこれでいいんじゃないか感。</p>
<p>Deno で Canvas に描いた絵を画像として出力するのはこんな感じでできる。</p>
<pre><code>import { createCanvas } from "https://deno.land/x/canvas/mod.ts";

const canvas = createCanvas(200, 200);
const ctx = canvas.getContext("2d");

ctx.fillStyle = "red";
ctx.fillRect(50, 50, 200 - 100, 200 - 100);

await Deno.writeFile("image.png", canvas.toBuffer());
</code></pre>
<p>そして実行はこれだけ</p>
<pre><code>$ deno run --allow-write create-image.js
</code></pre>
]]></content:encoded>
        </item>
    </channel>
</rss>