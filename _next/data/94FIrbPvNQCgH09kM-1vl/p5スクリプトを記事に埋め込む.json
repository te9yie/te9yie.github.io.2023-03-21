{"pageProps":{"postData":{"id":"p5スクリプトを記事に埋め込む","content":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(P5Sketch, {\n    name: \"sketch00\",\n    mdxType: \"P5Sketch\"\n  }), mdx(\"hr\", null), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"className\": \"internal new\",\n    \"href\": \"MDX\"\n  }, \"MDX\"), \"\\u3067\\u66F8\\u3044\\u3066\\u3044\\u308B\\u8A18\\u4E8B\\u306B\", mdx(\"a\", {\n    parentName: \"p\",\n    \"className\": \"internal new\",\n    \"href\": \"p5.js\"\n  }, \"p5.js\"), \"\\u306E\\u30B9\\u30AF\\u30EA\\u30D7\\u30C8\\u3092\\u57CB\\u3081\\u8FBC\\u307F\\u305F\\u3044\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-markdown\"\n  }, \"p5.js\\u3067\\u30B9\\u30B1\\u30C3\\u30C1\\u3057\\u3066\\u307F\\u305F\\u3002\\n\\n# Sketch00\\n\\n<P5Sketch src=\\\"/sketch00.js\\\" />\\n\")), mdx(\"p\", null, \"\\u3053\\u3093\\u306A\\u611F\\u3058\\u3067\\u30B3\\u30F3\\u30DD\\u30FC\\u30CD\\u30F3\\u30C8\\u3092\\u4F5C\\u3063\\u3066\\u5BFE\\u5FDC\\u3067\\u304D\\u308B\\u3068\\u3044\\u3044\\u306A\\u3068\\u601D\\u3063\\u305F\\u3002\"), mdx(\"p\", null, \"\\u5916\\u90E8\\u30B9\\u30AF\\u30EA\\u30D7\\u30C8\\u3092\\u8AAD\\u307F\\u8FBC\\u3080\\u65B9\\u6CD5\\u306A\\u3069\\u3092\\u8272\\u3005\\u8ABF\\u3079\\u3066\\u8A66\\u884C\\u932F\\u8AA4\\u3057\\u305F\\u304C\\u7121\\u7406\\u3060\\u3063\\u305F\\u3002\\u30DA\\u30FC\\u30B8\\u9077\\u79FB\\u3059\\u308B\\u969B\\u306B\\u3061\\u3083\\u3093\\u3068\\u5F8C\\u51E6\\u7406\\u3092\\u3059\\u308B\\u3053\\u3068\\u306A\\u3069\\u3092\\u8003\\u3048\\u308B\\u3068\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"useEffect()\"), \"\\u306E\\u30AF\\u30EA\\u30FC\\u30F3\\u30A2\\u30C3\\u30D7\\u51E6\\u7406\\u3042\\u305F\\u308A\\u3092\\u4F7F\\u308F\\u306A\\u3044\\u3068\\u3044\\u3051\\u306A\\u3044\\u3068\\u601D\\u3046\\u3093\\u3060\\u3051\\u3069\\u3001\\u826F\\u3044\\u6848\\u304C\\u601D\\u3044\\u6D6E\\u304B\\u3070\\u306A\\u304B\\u3063\\u305F\\u3002\", mdx(\"a\", {\n    parentName: \"p\",\n    \"className\": \"internal new\",\n    \"href\": \"React\"\n  }, \"React\"), \"\\u306E\\u7406\\u89E3\\u304C\\u8DB3\\u308A\\u3066\\u3044\\u306A\\u3044\\u3060\\u3051\\u304B\\u3082\\u3057\\u308C\\u306A\\u3044\\u3002\"), mdx(\"p\", null, \"\\u3068\\u308A\\u3042\\u3048\\u305A\\u306F\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.npmjs.com/package/react-p5\"\n  }, \"react-p5\"), \"\\u3092\\u4F7F\\u3063\\u3066\\u306A\\u3093\\u3068\\u306A\\u304F\\u5B9F\\u88C5\\u3057\\u305F\\u3002\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"// components/P5Sketch.js\\nimport { useState, useEffect } from \\\"react\\\";\\nimport loadable from \\\"@loadable/component\\\";\\n\\nconst P5Sketch = ({ name }) => {\\n  const Sketch = loadable(() => import(\\\"react-p5\\\"));\\n  const [sketch, setSketch] = useState(null);\\n  useEffect(() => {\\n    const f = async () => {\\n      const { default: m } = await import(`../libs/p5/${name}`);\\n      setSketch(m);\\n    };\\n    f();\\n  }, []);\\n  return (\\n    <div>\\n      {sketch ? <Sketch setup={sketch.setup} draw={sketch.draw} /> : null}\\n    </div>\\n  );\\n};\\n\\nexport default P5Sketch;\\n\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"// libs/p5/sketch00.js\\nconst setup = (p, parent) => {\\n  ...\\n};\\n\\nconst draw = (p) => {\\n  ...\\n};\\n\\nexport default {\\n  setup,\\n  draw,\\n};\\n\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-markdown\"\n  }, \"\\u3053\\u3093\\u306A\\u611F\\u3058\\u3067\\u57CB\\u3081\\u8FBC\\u3081\\u308B\\u3088\\u3046\\u306B\\u306F\\u306A\\u3063\\u305F\\u3002\\n\\n<P5Sketch name=\\\"sketch00\\\" />\\n\")));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"<div></div><hr/><p><a href=\"MDX\">MDX</a>で書いている記事に<a href=\"p5.js\">p5.js</a>のスクリプトを埋め込みたい。</p><pre><pre class=\"prism-code language-markdown\" style=\"background-color:#282c34;color:#ffffff;padding:1em\"><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">p5.jsでスケッチしてみた。</span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\" style=\"display:inline-block\">\n</span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\"></span><span class=\"token title important punctuation\" style=\"font-weight:400;color:#8dc891\">#</span><span class=\"token title important\" style=\"font-weight:400\"> Sketch00</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\" style=\"display:inline-block\">\n</span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\"></span><span class=\"token tag punctuation\" style=\"color:#8dc891\">&lt;</span><span class=\"token tag\" style=\"color:#fc929e\">P5Sketch</span><span class=\"token tag\" style=\"color:#fc929e\"> </span><span class=\"token tag attr-name\" style=\"color:#c5a5c5\">src</span><span class=\"token tag attr-value punctuation attr-equals\" style=\"color:#8dc891\">=</span><span class=\"token tag attr-value punctuation\" style=\"color:#8dc891\">&quot;</span><span class=\"token tag attr-value\" style=\"color:#8dc891\">/sketch00.js</span><span class=\"token tag attr-value punctuation\" style=\"color:#8dc891\">&quot;</span><span class=\"token tag\" style=\"color:#fc929e\"> </span><span class=\"token tag punctuation\" style=\"color:#8dc891\">/&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\" style=\"display:inline-block\">\n</span></div></pre></pre><p>こんな感じでコンポーネントを作って対応できるといいなと思った。</p><p>外部スクリプトを読み込む方法などを色々調べて試行錯誤したが無理だった。ページ遷移する際にちゃんと後処理をすることなどを考えると<code>useEffect()</code>のクリーンアップ処理あたりを使わないといけないと思うんだけど、良い案が思い浮かばなかった。<a href=\"React\">React</a>の理解が足りていないだけかもしれない。</p><p>とりあえずは<a href=\"https://www.npmjs.com/package/react-p5\">react-p5</a>を使ってなんとなく実装した。</p><pre><pre class=\"prism-code language-javascript\" style=\"background-color:#282c34;color:#ffffff;padding:1em\"><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token comment\" style=\"color:#999999\">// components/P5Sketch.js</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\"></span><span class=\"token keyword module\" style=\"color:#c5a5c5\">import</span><span class=\"token plain\"> </span><span class=\"token imports punctuation\" style=\"color:#8dc891\">{</span><span class=\"token imports\"> useState</span><span class=\"token imports punctuation\" style=\"color:#8dc891\">,</span><span class=\"token imports\"> useEffect </span><span class=\"token imports punctuation\" style=\"color:#8dc891\">}</span><span class=\"token plain\"> </span><span class=\"token keyword module\" style=\"color:#c5a5c5\">from</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#8dc891\">&quot;react&quot;</span><span class=\"token punctuation\" style=\"color:#8dc891\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\"></span><span class=\"token keyword module\" style=\"color:#c5a5c5\">import</span><span class=\"token plain\"> </span><span class=\"token imports\">loadable</span><span class=\"token plain\"> </span><span class=\"token keyword module\" style=\"color:#c5a5c5\">from</span><span class=\"token plain\"> </span><span class=\"token string\" style=\"color:#8dc891\">&quot;@loadable/component&quot;</span><span class=\"token punctuation\" style=\"color:#8dc891\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\" style=\"display:inline-block\">\n</span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:#c5a5c5\">const</span><span class=\"token plain\"> </span><span class=\"token function-variable function maybe-class-name\" style=\"color:#79b6f2\">P5Sketch</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:#d7deea\">=</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#8dc891\">(</span><span class=\"token parameter punctuation\" style=\"color:#8dc891\">{</span><span class=\"token parameter\"> name </span><span class=\"token parameter punctuation\" style=\"color:#8dc891\">}</span><span class=\"token punctuation\" style=\"color:#8dc891\">)</span><span class=\"token plain\"> </span><span class=\"token arrow operator\" style=\"color:#d7deea\">=&gt;</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#8dc891\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:#c5a5c5\">const</span><span class=\"token plain\"> </span><span class=\"token maybe-class-name\">Sketch</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:#d7deea\">=</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:#79b6f2\">loadable</span><span class=\"token punctuation\" style=\"color:#8dc891\">(</span><span class=\"token punctuation\" style=\"color:#8dc891\">(</span><span class=\"token punctuation\" style=\"color:#8dc891\">)</span><span class=\"token plain\"> </span><span class=\"token arrow operator\" style=\"color:#d7deea\">=&gt;</span><span class=\"token plain\"> </span><span class=\"token keyword module\" style=\"color:#c5a5c5\">import</span><span class=\"token punctuation\" style=\"color:#8dc891\">(</span><span class=\"token string\" style=\"color:#8dc891\">&quot;react-p5&quot;</span><span class=\"token punctuation\" style=\"color:#8dc891\">)</span><span class=\"token punctuation\" style=\"color:#8dc891\">)</span><span class=\"token punctuation\" style=\"color:#8dc891\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color:#c5a5c5\">const</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#8dc891\">[</span><span class=\"token plain\">sketch</span><span class=\"token punctuation\" style=\"color:#8dc891\">,</span><span class=\"token plain\"> setSketch</span><span class=\"token punctuation\" style=\"color:#8dc891\">]</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:#d7deea\">=</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:#79b6f2\">useState</span><span class=\"token punctuation\" style=\"color:#8dc891\">(</span><span class=\"token keyword null nil\" style=\"color:#c5a5c5\">null</span><span class=\"token punctuation\" style=\"color:#8dc891\">)</span><span class=\"token punctuation\" style=\"color:#8dc891\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">  </span><span class=\"token function\" style=\"color:#79b6f2\">useEffect</span><span class=\"token punctuation\" style=\"color:#8dc891\">(</span><span class=\"token punctuation\" style=\"color:#8dc891\">(</span><span class=\"token punctuation\" style=\"color:#8dc891\">)</span><span class=\"token plain\"> </span><span class=\"token arrow operator\" style=\"color:#d7deea\">=&gt;</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#8dc891\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#c5a5c5\">const</span><span class=\"token plain\"> </span><span class=\"token function-variable function\" style=\"color:#79b6f2\">f</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:#d7deea\">=</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:#c5a5c5\">async</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#8dc891\">(</span><span class=\"token punctuation\" style=\"color:#8dc891\">)</span><span class=\"token plain\"> </span><span class=\"token arrow operator\" style=\"color:#d7deea\">=&gt;</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#8dc891\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">      </span><span class=\"token keyword\" style=\"color:#c5a5c5\">const</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#8dc891\">{</span><span class=\"token plain\"> </span><span class=\"token keyword module\" style=\"color:#c5a5c5\">default</span><span class=\"token operator\" style=\"color:#d7deea\">:</span><span class=\"token plain\"> m </span><span class=\"token punctuation\" style=\"color:#8dc891\">}</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:#d7deea\">=</span><span class=\"token plain\"> </span><span class=\"token keyword control-flow\" style=\"color:#c5a5c5\">await</span><span class=\"token plain\"> </span><span class=\"token keyword module\" style=\"color:#c5a5c5\">import</span><span class=\"token punctuation\" style=\"color:#8dc891\">(</span><span class=\"token template-string template-punctuation string\" style=\"color:#8dc891\">`</span><span class=\"token template-string string\" style=\"color:#8dc891\">../libs/p5/</span><span class=\"token template-string interpolation interpolation-punctuation punctuation\" style=\"color:#8dc891\">${</span><span class=\"token template-string interpolation\">name</span><span class=\"token template-string interpolation interpolation-punctuation punctuation\" style=\"color:#8dc891\">}</span><span class=\"token template-string template-punctuation string\" style=\"color:#8dc891\">`</span><span class=\"token punctuation\" style=\"color:#8dc891\">)</span><span class=\"token punctuation\" style=\"color:#8dc891\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">      </span><span class=\"token function\" style=\"color:#79b6f2\">setSketch</span><span class=\"token punctuation\" style=\"color:#8dc891\">(</span><span class=\"token plain\">m</span><span class=\"token punctuation\" style=\"color:#8dc891\">)</span><span class=\"token punctuation\" style=\"color:#8dc891\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">    </span><span class=\"token punctuation\" style=\"color:#8dc891\">}</span><span class=\"token punctuation\" style=\"color:#8dc891\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">    </span><span class=\"token function\" style=\"color:#79b6f2\">f</span><span class=\"token punctuation\" style=\"color:#8dc891\">(</span><span class=\"token punctuation\" style=\"color:#8dc891\">)</span><span class=\"token punctuation\" style=\"color:#8dc891\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:#8dc891\">}</span><span class=\"token punctuation\" style=\"color:#8dc891\">,</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#8dc891\">[</span><span class=\"token punctuation\" style=\"color:#8dc891\">]</span><span class=\"token punctuation\" style=\"color:#8dc891\">)</span><span class=\"token punctuation\" style=\"color:#8dc891\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">  </span><span class=\"token keyword control-flow\" style=\"color:#c5a5c5\">return</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#8dc891\">(</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">    </span><span class=\"token operator\" style=\"color:#d7deea\">&lt;</span><span class=\"token plain\">div</span><span class=\"token operator\" style=\"color:#d7deea\">&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">      </span><span class=\"token punctuation\" style=\"color:#8dc891\">{</span><span class=\"token plain\">sketch </span><span class=\"token operator\" style=\"color:#d7deea\">?</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:#d7deea\">&lt;</span><span class=\"token maybe-class-name\">Sketch</span><span class=\"token plain\"> setup</span><span class=\"token operator\" style=\"color:#d7deea\">=</span><span class=\"token punctuation\" style=\"color:#8dc891\">{</span><span class=\"token plain\">sketch</span><span class=\"token punctuation\" style=\"color:#8dc891\">.</span><span class=\"token property-access\">setup</span><span class=\"token punctuation\" style=\"color:#8dc891\">}</span><span class=\"token plain\"> draw</span><span class=\"token operator\" style=\"color:#d7deea\">=</span><span class=\"token punctuation\" style=\"color:#8dc891\">{</span><span class=\"token plain\">sketch</span><span class=\"token punctuation\" style=\"color:#8dc891\">.</span><span class=\"token property-access\">draw</span><span class=\"token punctuation\" style=\"color:#8dc891\">}</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:#d7deea\">/</span><span class=\"token operator\" style=\"color:#d7deea\">&gt;</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:#d7deea\">:</span><span class=\"token plain\"> </span><span class=\"token keyword null nil\" style=\"color:#c5a5c5\">null</span><span class=\"token punctuation\" style=\"color:#8dc891\">}</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">    </span><span class=\"token operator\" style=\"color:#d7deea\">&lt;</span><span class=\"token operator\" style=\"color:#d7deea\">/</span><span class=\"token plain\">div</span><span class=\"token operator\" style=\"color:#d7deea\">&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color:#8dc891\">)</span><span class=\"token punctuation\" style=\"color:#8dc891\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:#8dc891\">}</span><span class=\"token punctuation\" style=\"color:#8dc891\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\" style=\"display:inline-block\">\n</span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\"></span><span class=\"token keyword module\" style=\"color:#c5a5c5\">export</span><span class=\"token plain\"> </span><span class=\"token keyword module\" style=\"color:#c5a5c5\">default</span><span class=\"token plain\"> </span><span class=\"token maybe-class-name\">P5Sketch</span><span class=\"token punctuation\" style=\"color:#8dc891\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\" style=\"display:inline-block\">\n</span></div></pre></pre><pre><pre class=\"prism-code language-javascript\" style=\"background-color:#282c34;color:#ffffff;padding:1em\"><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token comment\" style=\"color:#999999\">// libs/p5/sketch00.js</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:#c5a5c5\">const</span><span class=\"token plain\"> </span><span class=\"token function-variable function\" style=\"color:#79b6f2\">setup</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:#d7deea\">=</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#8dc891\">(</span><span class=\"token parameter\">p</span><span class=\"token parameter punctuation\" style=\"color:#8dc891\">,</span><span class=\"token parameter\"> parent</span><span class=\"token punctuation\" style=\"color:#8dc891\">)</span><span class=\"token plain\"> </span><span class=\"token arrow operator\" style=\"color:#d7deea\">=&gt;</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#8dc891\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">  </span><span class=\"token spread operator\" style=\"color:#d7deea\">...</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:#8dc891\">}</span><span class=\"token punctuation\" style=\"color:#8dc891\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\" style=\"display:inline-block\">\n</span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color:#c5a5c5\">const</span><span class=\"token plain\"> </span><span class=\"token function-variable function\" style=\"color:#79b6f2\">draw</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:#d7deea\">=</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#8dc891\">(</span><span class=\"token parameter\">p</span><span class=\"token punctuation\" style=\"color:#8dc891\">)</span><span class=\"token plain\"> </span><span class=\"token arrow operator\" style=\"color:#d7deea\">=&gt;</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#8dc891\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">  </span><span class=\"token spread operator\" style=\"color:#d7deea\">...</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:#8dc891\">}</span><span class=\"token punctuation\" style=\"color:#8dc891\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\" style=\"display:inline-block\">\n</span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\"></span><span class=\"token keyword module\" style=\"color:#c5a5c5\">export</span><span class=\"token plain\"> </span><span class=\"token keyword module\" style=\"color:#c5a5c5\">default</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:#8dc891\">{</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">  setup</span><span class=\"token punctuation\" style=\"color:#8dc891\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">  draw</span><span class=\"token punctuation\" style=\"color:#8dc891\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:#8dc891\">}</span><span class=\"token punctuation\" style=\"color:#8dc891\">;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\" style=\"display:inline-block\">\n</span></div></pre></pre><pre><pre class=\"prism-code language-markdown\" style=\"background-color:#282c34;color:#ffffff;padding:1em\"><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\">こんな感じで埋め込めるようにはなった。</span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\" style=\"display:inline-block\">\n</span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\"></span><span class=\"token tag punctuation\" style=\"color:#8dc891\">&lt;</span><span class=\"token tag\" style=\"color:#fc929e\">P5Sketch</span><span class=\"token tag\" style=\"color:#fc929e\"> </span><span class=\"token tag attr-name\" style=\"color:#c5a5c5\">name</span><span class=\"token tag attr-value punctuation attr-equals\" style=\"color:#8dc891\">=</span><span class=\"token tag attr-value punctuation\" style=\"color:#8dc891\">&quot;</span><span class=\"token tag attr-value\" style=\"color:#8dc891\">sketch00</span><span class=\"token tag attr-value punctuation\" style=\"color:#8dc891\">&quot;</span><span class=\"token tag\" style=\"color:#fc929e\"> </span><span class=\"token tag punctuation\" style=\"color:#8dc891\">/&gt;</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:#ffffff\"><span class=\"token plain\" style=\"display:inline-block\">\n</span></div></pre></pre>","scope":{}},"lastUpdate":"2021-04-08 20:21:44","refLinks":[],"links":["Next.jsでサイトをつくる"]}},"__N_SSG":true}